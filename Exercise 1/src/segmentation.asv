function foreground_map = segmentation(frames,FGScribbles,Hfc,Hbc,bins)
    %----------------------------------------------------------------------
    % Task c: Generate cost-volume
    %----------------------------------------------------------------------
   
    
    %Das Funktioniert noch nicht! Keine Ahnung wie das geht :(

    [m,n,o]=size(frames(:,:,1));
    for i=11:11
        for j=1:n
            imr=double(frames(i,j,1,1));%*255+1;
            img=double(frames(i,j,2,1));%*255+1;
            imb=double(frames(i,j,3,1));%*255+1;
            f=double(bins)/256.0;
            relevantID=floor(imr*f) + floor(img*f)*bins + floor(imb*f)*bins*bins+1; 

            %disp(Hfc(relevantID));
            %disp(Hbc(relevantID));
            if (( (Hfc(relevantID)/(Hfc(relevantID)+Hbc(relevantID))))>0.5)
                foreground_map(i,j,:,1) = frames(i,j,:,1);
                
            end
            
            
        end
    end
    imag(foreground_map);
    %image (foreground_map(:,:,1,:));
    
    
    %----------------------------------------------------------------------
    % Task e: Filter cost-volume with guided filter
    %----------------------------------------------------------------------
 
    
    %----------------------------------------------------------------------
    % Task f: delete regions which are not connected to foreground scribble
    %----------------------------------------------------------------------
    

    %----------------------------------------------------------------------
    % Task g: Guided feathering
    %----------------------------------------------------------------------
    foreground_map=[];
    
    
end
